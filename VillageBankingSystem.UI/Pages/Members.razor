@page "/members"
@using MudBlazor


<MudPaper Class="pa-6" Elevation="12" Style="border-radius: 16px; background-color: #f9f9f9;">
    <MudText Typo="Typo.h3" GutterBottom="true" Style="color: #1f5c79;" Class="mb-4">Members</MudText>

    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="AddNewMember" Class="mb-4" Style="min-width: 150px;">
        <MudIcon Icon="@Icons.Material.Filled.PersonAdd" Class="mr-2" />
        Add New Member
    </MudButton>

    <MudTable Items="_members" Dense="true" Hover="true" Striped="true" Bordered="true" Class="shadow-sm" Style="border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <HeaderContent>
            <MudTh style="background-color: #1976d2; color: white;">Name</MudTh>
            <MudTh style="background-color: #1976d2; color: white;">Email</MudTh>
            <MudTh style="background-color: #1976d2; color: white;">Phone</MudTh>
            <MudTh style="width: 140px; text-align: center; background-color: #1976d2; color: white;">Actions</MudTh>
        </HeaderContent>
        <RowTemplate Context="member">
            <MudTd style="vertical-align: middle;">
                @if (_editingMember == member)
                {
                    <MudTextField @bind-Value="_editingMember.Name" Immediate="true" Placeholder="Enter name" />
                }
                else
                {
                    @member.Name
                }
            </MudTd>
            <MudTd style="vertical-align: middle;">
                @if (_editingMember == member)
                {
                    <MudTextField @bind-Value="_editingMember.Email" Immediate="true" Placeholder="Enter email" />
                }
                else
                {
                    @member.Email
                }
            </MudTd>
            <MudTd style="vertical-align: middle;">
                @if (_editingMember == member)
                {
                    <MudTextField @bind-Value="_editingMember.Phone" Immediate="true" Placeholder="Enter phone" />
                }
                else
                {
                    @member.Phone
                }
            </MudTd>
<MudTd style="text-align: center; vertical-align: middle;">
    @if (_editingMember == member)
    {
        <MudIconButton Color="Color.Success" OnClick="() => SaveMember(member)" Icon="@Icons.Material.Filled.Save" Size="Size.Medium" />
        <MudIconButton Color="Color.Default" OnClick="CancelEdit" Icon="@Icons.Material.Filled.Cancel" Size="Size.Medium" />
    }
    else
    {
        <div style="display: flex; justify-content: center; gap: 8px;">
            <MudIconButton Color="Color.Primary" OnClick="() => EditMember(member)"  Icon="@Icons.Material.Filled.Edit" Size="Size.Medium" />
            <MudIconButton Color="Color.Error" OnClick="() => DeleteMember(member)"  Icon="@Icons.Material.Filled.Delete" Size="Size.Medium" />
        </div>
    }
</MudTd>
        </RowTemplate>
    </MudTable>
</MudPaper>
